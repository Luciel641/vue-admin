(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47728c28"],{"07ac":function(e,t,a){var l=a("23e7"),r=a("6f53").values;l({target:"Object",stat:!0},{values:function(e){return r(e)}})},"59d5":function(e,t,a){"use strict";var l=a("6272"),r=a.n(l);r.a},6272:function(e,t,a){},"6f53":function(e,t,a){var l=a("83ab"),r=a("df75"),n=a("fc6a"),s=a("d1e7").f,o=function(e){return function(t){var a,o=n(t),i=r(o),d=i.length,c=0,m=[];while(d>c)a=i[c++],l&&!s.call(o,a)||m.push(e?[a,o[a]]:o[a]);return m}};e.exports={entries:o(!0),values:o(!1)}},f71f:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),a("el-form",{ref:"advForm",attrs:{model:e.advForm,rules:e.advFormRules,"label-width":"120px"}},[a("el-card",{attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[e._v("出差信息")]),a("el-row",[a("el-col",{attrs:{span:12,xs:24}},[a("el-form-item",{attrs:{label:"出差事由",prop:"tripReason"}},[a("el-input",{model:{value:e.advForm.tripReason,callback:function(t){e.$set(e.advForm,"tripReason",t)},expression:"advForm.tripReason"}})],1)],1),a("el-col",{attrs:{span:12,xs:24}},[a("el-form-item",{attrs:{label:"合同编号",prop:"contractId"}},[a("el-input",{model:{value:e.advForm.contractId,callback:function(t){e.$set(e.advForm,"contractId",t)},expression:"advForm.contractId"}})],1)],1),a("el-col",{attrs:{span:12,xs:24}},[a("el-form-item",{attrs:{label:"出差时间",prop:"tripTime"}},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd"},model:{value:e.advForm.tripTime,callback:function(t){e.$set(e.advForm,"tripTime",t)},expression:"advForm.tripTime"}})],1)],1),a("el-col",{attrs:{span:12,xs:24}},[a("el-form-item",{attrs:{label:"审批人",prop:"approve"}},[a("el-select",{model:{value:e.advForm.approve,callback:function(t){e.$set(e.advForm,"approve",t)},expression:"advForm.approve"}},e._l(e.approveList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:8,xs:24}},[a("el-form-item",{attrs:{label:"紧急程度",prop:"emergencyType"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.advForm.emergencyType,callback:function(t){e.$set(e.advForm,"emergencyType",t)},expression:"advForm.emergencyType"}},[a("el-tag",{attrs:{type:"success",size:"small"}},[e._v("一般")])],1),a("el-radio",{attrs:{label:"2"},model:{value:e.advForm.emergencyType,callback:function(t){e.$set(e.advForm,"emergencyType",t)},expression:"advForm.emergencyType"}},[a("el-tag",{attrs:{type:"warning",size:"small"}},[e._v("急")])],1),a("el-radio",{attrs:{label:"3"},model:{value:e.advForm.emergencyType,callback:function(t){e.$set(e.advForm,"emergencyType",t)},expression:"advForm.emergencyType"}},[a("el-tag",{attrs:{type:"danger",size:"small"}},[e._v("紧急")])],1)],1)],1)],1)],1),a("el-card",{staticClass:"mg-t-15"},[a("div",{attrs:{slot:"header"},slot:"header"},[e._v(" 行程信息 ")]),a("el-row",[a("el-col",{attrs:{span:8,xs:24}},[a("el-form-item",{attrs:{label:"出发城市",prop:"fromCity"}},[a("city-cascader",{attrs:{level:2,"show-all-levels":!1},model:{value:e.advForm.fromCity,callback:function(t){e.$set(e.advForm,"fromCity",t)},expression:"advForm.fromCity"}})],1)],1),a("el-col",{attrs:{span:8,xs:24}},[a("el-form-item",{attrs:{label:"出发时间",prop:"goTime"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:e.advForm.goTime,callback:function(t){e.$set(e.advForm,"goTime",t)},expression:"advForm.goTime"}})],1)],1),a("el-col",{attrs:{span:8,xs:24}},[a("el-form-item",{attrs:{label:"返程时间",prop:"backTime"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:e.advForm.backTime,callback:function(t){e.$set(e.advForm,"backTime",t)},expression:"advForm.backTime"}})],1)],1),a("el-col",{attrs:{span:8,xs:24}},[a("el-form-item",{attrs:{label:"交通类型",prop:"trafficType"}},[a("el-select",{model:{value:e.advForm.trafficType,callback:function(t){e.$set(e.advForm,"trafficType",t)},expression:"advForm.trafficType"}},[a("el-option",{attrs:{label:"火车",value:"1"}}),a("el-option",{attrs:{label:"飞机",value:"2"}})],1)],1)],1),2==e.advForm.trafficType?a("el-col",{attrs:{span:8,xs:24}},[a("el-form-item",{attrs:{label:"航班到达城市",prop:"toCity"}},[a("city-cascader",{attrs:{level:2,"show-all-levels":!1},model:{value:e.advForm.toCity,callback:function(t){e.$set(e.advForm,"toCity",t)},expression:"advForm.toCity"}})],1)],1):e._e()],1)],1),a("el-card",{staticClass:"mg-t-15"},[a("div",{attrs:{slot:"header"},slot:"header"},[e._v("同行人员")]),a("div",[a("el-table",{attrs:{data:e.personsTable}},[a("el-table-column",{attrs:{prop:"name",label:"姓名"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.$index,r=t.row;return[e.tableEditIndex==l?a("el-input",{model:{value:e.tableEditData.name,callback:function(t){e.$set(e.tableEditData,"name",t)},expression:"tableEditData.name"}}):a("span",[e._v(e._s(r.name))])]}}])}),a("el-table-column",{attrs:{prop:"number",label:"工号"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.$index,r=t.row;return[e.tableEditIndex==l?a("el-input",{model:{value:e.tableEditData.number,callback:function(t){e.$set(e.tableEditData,"number",t)},expression:"tableEditData.number"}}):a("span",[e._v(e._s(r.number))])]}}])}),a("el-table-column",{attrs:{prop:"department",label:"所属部门"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.$index,r=t.row;return[e.tableEditIndex==l?a("el-select",{model:{value:e.tableEditData.department,callback:function(t){e.$set(e.tableEditData,"department",t)},expression:"tableEditData.department"}},e._l(e.department,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):a("span",[e._v(e._s(e.departmentText(r.department)))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.$index,r=t.row;return[e.tableEditIndex==l?a("el-button",{attrs:{type:e.tableEditIndex==l&&"success",size:"mini"},on:{click:function(t){return e.handleSave(l,r)}}},[a("span",[e._v("保存")])]):a("el-button",{attrs:{size:"mini",disabled:null!=e.tableEditIndex},on:{click:function(t){return e.handleEdit(l,r)}}},[e._v("编辑")]),e.tableEditIndex!=l?a("el-button",{attrs:{size:"mini",type:"danger",disabled:null!=e.tableEditIndex&&e.tableEditIndex!=l},on:{click:function(t){return e.handleDelete(l,r)}}},[e._v("删除")]):a("el-button",{attrs:{size:"mini"},on:{click:e.handleCancel}},[e._v("取消")])]}}])})],1),a("div",{staticClass:"add-person mg-t-15"},[a("el-button",{staticClass:"block",attrs:{disabled:e.isAdding},on:{click:e.addPerson}},[a("i",{staticClass:"el-icon-plus"}),e._v(" 新增成员 ")])],1)],1),a("div",{staticClass:"el-row--flex is-justify-end mg-t-15"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("advForm")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.resetForm("advForm")}}},[e._v("重置")])],1)])],1)],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-header"},[a("div",{staticClass:"title"},[e._v("高级表单")]),a("div",{staticClass:"content"},[e._v(" 当一次性提交大量数据时，可使用高级表单。 ")])])}],n=(a("99af"),a("4de4"),a("4160"),a("a434"),a("b64b"),a("07ac"),a("498a"),a("159b"),a("2909")),s=a("eac9"),o=a("2ef0"),i=a.n(o),d={name:"AdvancedForm",components:{cityCascader:s["a"]},data:function(){return{advForm:{tripReason:"",contractId:"",tripTime:"",approve:"",emergencyType:"1",fromCity:[],goTime:"",backTime:"",trafficType:"",toCity:[],persons:[{name:"员工1",number:"001",department:"1"},{name:"员工2",number:"002",department:"2"},{name:"员工3",number:"003",department:"3"}]},advFormRules:{tripReason:[{required:!0,message:"请填写出差事由"}],contractId:[{required:!0,message:"请填写合同编号"}],tripTime:[{required:!0,message:"请选择出差时间",trigger:"change"}],approve:[{required:!0,message:"请选择审批人",trigger:"change"}],fromCity:[{required:!0,message:"请选择出发城市",trigger:"change"}],goTime:[{required:!0,message:"请选择出发时间",trigger:"change"}],backTime:[{required:!0,message:"请选择返程时间",trigger:"change"}],trafficType:[{required:!0,message:"请选择交通类型",trigger:"change"}],toCity:[{required:!0,message:"请选择到达城市",trigger:"change"}]},approveList:[{label:"审批人1",value:"1"},{label:"审批人2",value:"2"},{label:"审批人3",value:"3"},{label:"审批人4",value:"4"}],department:[{label:"研发部",value:"1"},{label:"设计部",value:"2"},{label:"产品部",value:"3"}],tableEditData:{},tableEditIndex:null}},computed:{personsTable:function(){console.log("table computed ");var e=this.advForm.persons;return this.isAdding&&(e=[].concat(Object(n["a"])(e),[this.tableEditData])),e},isAdding:function(){return this.tableEditIndex>=this.advForm.persons.length},departmentText:function(){return function(e){return this.department.filter((function(t){return t.value==e}))[0].label}}},watch:{tableEditIndex:{handler:function(e){console.log("index change ",e);var t=i.a.cloneDeep(this.advForm.persons),a={};null!=e&&e<t.length?a=t[e]:Object.keys(t[0]).forEach((function(e){return a[e]=""})),console.log("data: ",a),this.tableEditData=a},immediate:!0}},methods:{handleSave:function(e,t){var a=this.tableEditData,l=Object.values(a).filter((function(e){return!i.a.isEmpty(e.trim())}));console.log("values ",l),!l.length||l.length<Object.keys(a).length?this.$message.error("请填写完整信息"):(this.advForm.persons[e]=i.a.cloneDeep(a),this.tableEditIndex=null)},handleEdit:function(e,t){this.tableEditIndex=e,console.log(e,t)},handleDelete:function(e,t){this.isAdding?this.tableEditIndex=null:this.advForm.persons.splice(e,1)},handleCancel:function(e,t){this.tableEditIndex=null},addPerson:function(){this.tableEditIndex=this.advForm.persons.length},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.$message.success("提交成功")}))},resetForm:function(e){this.$refs[e].resetFields()}}},c=d,m=(a("59d5"),a("2877")),u=Object(m["a"])(c,l,r,!1,null,"01cc2492",null);t["default"]=u.exports}}]);