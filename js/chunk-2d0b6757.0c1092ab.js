(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b6757"],{"1cf5":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),s("div",{staticClass:"page-card"},[s("div",[s("span",[t._v("当前身份：")]),t.isAdmin?s("span",[t._v("管理员")]):s("span",[t._v("普通用户")])]),s("div",{staticClass:"mg-t-20"},[s("span",[t._v("切换权限：")]),s("el-button-group",[s("el-button",{attrs:{type:t.isAdmin?"primary":""},on:{click:function(e){return t.switchTo("admin")}}},[t._v(" 管理员 ")]),s("el-button",{attrs:{type:t.isAdmin?"":"primary"},on:{click:function(e){return t.switchTo("user")}}},[t._v(" 普通用户 ")])],1)],1)])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-header"},[s("div",{staticClass:"title"},[t._v("权限测试页")]),s("div",{staticClass:"content"},[t._v(" 在这里可以临时测试切换管理员（admin）和普通用户身份（user），切换后可以到首页看效果，管理员可以显示图表面板。 "),s("br"),t._v(" 刷新网页后会重新登录，回到原来的权限。 "),s("br"),t._v(" 也可以退出重新登录不同账号查看。 ")])])}],r=(s("96cf"),s("1da1")),a=s("5530"),c=s("2f62"),o=s("a18c"),u={name:"PermissionTest",computed:Object(a["a"])(Object(a["a"])({},Object(c["b"])(["roles"])),{},{isAdmin:function(){return"admin"==this.roles[0]}}),methods:{switchTo:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.log("switch"),e.$store.commit("user/SET_ROLES",[t]),Object(o["d"])(),s.next=5,e.$store.dispatch("permission/generateRoutes",[t]);case 5:n=s.sent,o["c"].addRoutes(n),e.$store.dispatch("tagsView/delAllViews");case 8:case"end":return s.stop()}}),s)})))()}}},d=u,l=s("2877"),p=Object(l["a"])(d,n,i,!1,null,"724e2d4d",null);e["default"]=p.exports}}]);